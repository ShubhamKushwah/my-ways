{"version":3,"sources":["components/VideosList.jsx","components/Root.jsx","store/player/actions.js","store/player/actionConstants.js","store/player/reducer.js","index.js","store/configureStore.js"],"names":["currentVideoId","list","changeVideoId","removeVideoId","onReorder","length","reorderId","reorderGroup","component","List","autoScroll","disabled","disableContextMenus","e","prev","next","map","item","index","ListItem","key","Button","onClick","fullWidth","color","ListItemSecondaryAction","IconButton","edge","aria-label","youtubeOptions","height","width","playerVars","autoplay","connect","state","player","dispatch","payload","type","addVideoId","playNextVideo","updateList","props","useState","videoUrl","setState","Grid","container","className","spacing","xs","Paper","TextField","label","name","value","onChange","target","variant","indexOf","alert","url","split","parsed","queryString","parse","v","videoId","opts","onEnd","VideosList","initialState","action","filter","nextVideoId","newList","splice","updatedList","reorder","store","rootReducer","combineReducers","composeEnhancers","compose","createStore","applyMiddleware","thunk","configureStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c347f56f.chunk.js","sourcesContent":["import React from 'react';\nimport { List, ListItem, ListItemText, ListItemSecondaryAction, IconButton, Button } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Reorder, { reorder } from 'react-reorder';\n\nexport default ({ currentVideoId, list, changeVideoId, removeVideoId, onReorder }) => {\n  return (\n    <div>\n      <h2>PLAYLIST</h2>\n      {list.length > 0 ? '' : 'No items here...'}\n      <Reorder\n        reorderId=\"my-list\"\n        reorderGroup=\"reorder-group\"\n        component={List}\n        // lock=\"horizontal\"\n        // holdTime={500}\n        // touchHoldTime={500}\n        // mouseHoldTime={200}\n        autoScroll={true}\n        disabled={false}\n        disableContextMenus={true}\n        onReorder={(e, prev, next) => onReorder({ prev, next })}\n        // placeholder={\n        //   <div className=\"custom-placeholder\" />\n        // }\n      >\n        {\n          list.map((item, index) => (\n            <ListItem key={item + index}>\n                <Button onClick={() => changeVideoId(item)} fullWidth color={currentVideoId === item ? 'primary' : ''}>\n                  {item}\n                </Button>\n                <ListItemSecondaryAction>\n                  <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => removeVideoId(item)}>\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n          ))\n        }\n      </Reorder>\n      {/* <List dense={false}>\n        {\n          list.map((item, index) =>\n            (\n              <ListItem key={item + index}>\n                <Button onClick={() => changeVideoId(item)} fullWidth color={currentVideoId === item ? 'primary' : ''}>\n                  {item}\n                </Button>\n                <ListItemSecondaryAction>\n                  <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => removeVideoId(item)}>\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            )\n          )\n        }\n      </List> */}\n    </div>\n  )\n}","import React, { useState } from 'react';\nimport { Grid, Paper, TextField, Button } from '@material-ui/core';\nimport Youtube from 'react-youtube';\nimport { connect } from 'react-redux';\nimport { changeVideoId, addVideoId, removeVideoId, playNextVideo, updateList } from '../store/player/actions';\nimport VideosList from './VideosList';\nimport queryString from 'query-string';\n\nconst youtubeOptions = {\n  height: '390',\n  width: '640',\n  playerVars: {\n    autoplay: 1\n  }\n}\n\nconst Root = props => {\n  const [state, setState] = useState({\n    videoUrl: ''\n  });\n\n  const { videoUrl } = state;\n  const { player: { currentVideoId, list }, changeVideoId, removeVideoId, playNextVideo, updateList } = props;\n\n  // https://www.youtube.com/watch?v=7wtfhZwyrcc, https://www.youtube.com/watch?v=ktvTqknDobU\n\n  const onClick = () => {\n    if (!videoUrl) {\n      alert('Please enter a valid url');\n      return;\n    } else if (videoUrl.indexOf('youtube.com') < 0) {\n      alert('This is not a valid Youtube Url');\n      return;\n    }\n\n    const url = videoUrl.split('?')[1];\n    const parsed = queryString.parse(url);\n    props.addVideoId(parsed.v)\n    setState({ videoUrl: '' })\n  }\n\n  const onChange = ({ target: { name, value } }) => setState({ [name]: value })\n\n  const onEnd = () => {\n    playNextVideo();\n  }\n\n  return (\n    <Grid container className=\"root\" spacing={2}>\n      <Grid item xs={9}>\n        <Paper className=\"paper\">\n          <div className=\"flex\">\n            <TextField\n              fullWidth\n              label=\"Add a youtube link\"\n              name=\"videoUrl\"\n              value={videoUrl}\n              onChange={onChange}\n            />\n            <Button color=\"primary\" variant=\"contained\" onClick={onClick}>\n              ADD\n            </Button>\n          </div>\n          <br />\n          {\n            currentVideoId ? <Youtube\n              videoId={currentVideoId}\n              opts={youtubeOptions}\n              onEnd={onEnd}\n            /> : 'Please select a video to play'\n          }\n          <hr />\n          <strong>FEATURES</strong>\n          <ul>\n            <li>Add any youtube video url e.g. Copy this one: <em>https://www.youtube.com/watch?v=7wtfhZwyrcc</em></li>\n            <li>Click on the <strong>ADD</strong> button to add the video to your playlist</li>\n            <li>Click on the video from playlist to start playing. The current playing video would be highlighted in Blue color.</li>\n            <li>\n              Keep adding more videos, if you wish\n            </li>\n            <li>\n              When a video is finished it would be removed from the playlist, and next one would be played automatically.\n            </li>\n            <li>\n              You can <strong>Delete</strong> any video from the list, by clicking on the \"Trash\" icon button, right next to it.\n            </li>\n\n          </ul>\n          <strong>BONUS</strong>\n          <ul>\n            <li>\n              You can rearrange the playlist by dragging the videos up and down.\n            </li>\n            <li>\n              Regarding the Sync thing, it won't be possible to do that just on the client side,\n              <br />\n              as it needs a backend, and some work with Sockets, to create real-time interactions between multiple web pages.\n              <br />\n              So I'm leaving that part on purpose, although I know how to do it.\n            </li>\n          </ul>\n        </Paper>\n      </Grid>\n      <Grid item xs={3}>\n        <Paper className=\"paper\">\n          <VideosList onReorder={updateList} currentVideoId={currentVideoId} list={list} changeVideoId={changeVideoId} removeVideoId={removeVideoId} />\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst mapStateToProps = state => {\n  const { player } = state;\n  return {\n    player\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeVideoId: payload => dispatch(changeVideoId(payload)),\n    addVideoId: payload => dispatch(addVideoId(payload)),\n    removeVideoId: payload => dispatch(removeVideoId(payload)),\n    playNextVideo: payload => dispatch(playNextVideo(payload)),\n    updateList: payload => dispatch(updateList(payload))\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Root);","import { CHANGE_VIDEO_ID, ADD_VIDEO_ID, REMOVE_VIDEO_ID, PLAY_NEXT, UPDATE_LIST } from \"./actionConstants\";\n\nexport const changeVideoId = payload => ({ type: CHANGE_VIDEO_ID, payload })\nexport const addVideoId = payload => ({ type: ADD_VIDEO_ID, payload })\nexport const removeVideoId = payload => ({ type: REMOVE_VIDEO_ID, payload })\nexport const playNextVideo = payload => ({ type: PLAY_NEXT, payload })\nexport const updateList = payload => ({ type: UPDATE_LIST, payload })","export const CHANGE_VIDEO_ID = 'CHANGE_VIDEO_ID';\nexport const ADD_VIDEO_ID = 'ADD_VIDEO_ID';\nexport const REMOVE_VIDEO_ID = 'REMOVE_VIDEO_ID';\nexport const PLAY_NEXT = 'PLAY_NEXT';\nexport const UPDATE_LIST = 'UPDATE_LIST';","import { CHANGE_VIDEO_ID, ADD_VIDEO_ID, REMOVE_VIDEO_ID, PLAY_NEXT, UPDATE_LIST } from './actionConstants';\nimport { reorder } from 'react-reorder';\n\nconst initialState = {\n  currentVideoId: null,\n  list: []\n};\n\nconst player = (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case CHANGE_VIDEO_ID:\n      return {\n        ...state,\n        currentVideoId: payload\n      };\n    case ADD_VIDEO_ID:\n      return {\n        ...state,\n        list: [\n          ...state.list,\n          payload\n        ]\n      }\n    case REMOVE_VIDEO_ID:\n      return {\n        ...state,\n        list: [\n          ...state.list.filter(item => item !== payload)\n        ]\n      }\n    case PLAY_NEXT:\n      const index = state.list.indexOf(state.currentVideoId);\n      const nextVideoId = state.list[index + 1]\n      const newList = [...state.list];\n      if (index > -1) {\n        newList.splice(index, 1);\n      }\n      return {\n        ...state,\n        list: [\n          ...newList\n        ],\n        currentVideoId: nextVideoId\n      }\n    case UPDATE_LIST:\n      const updatedList = reorder(state.list, payload.prev, payload.next);\n      return {\n        ...state,\n        list: [...updatedList]\n      }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default player;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport Root from './components/Root';\nimport { Provider } from 'react-redux';\nimport configureStore from './store/configureStore';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <Root />\n  </Provider>,\n  document.getElementById('root'));\n","import { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport player from './player/reducer'\n\nconst configureStore = () => {\n  const rootReducer = combineReducers({\n    player\n  });\n\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' && typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      : compose;\n\n  const store = createStore(rootReducer, {}, composeEnhancers(applyMiddleware(thunk)));\n  return store;\n};\n\nexport default configureStore;\n"],"sourceRoot":""}